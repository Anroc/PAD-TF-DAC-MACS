\section{Basic Attribute-Based Encryption}
In the following sections we will habe a look at the different attribute based encryption schems. We will extract characterisitics of thouse schemes to cluster them, select a repectable candidate from each of those schemes and to finally, make a practical performance anaylsis of thouse schemes. 

A suitable candidate in the field of attribute based encryption scheme is a scheme that satisfies the requirements stated in section \ref{sec:requirements}. The requirements are a super set of thouse defined in \cite{lee2013survey}. For the basic ABE schemes we will focus on the requirements \req{C1}, \req{C3}, \req{C5} - \req{C8} and optional requirements \req{O1} and \req{O2}.
The general requirements \req{B1} and \req{B2} will be evaluated by pratical a performance and scalability anaylsis.

\subsection{Collusion resistance (C2 requirement)}
Lets construct a very basic attribute based encryption scheme to clarify the importance of collusion resistance. Assume baisc RSA cryptography. We setup an AA which combines attributes to RSA public-private key pairs. Attribute "student" gets bound to $K_{PR(s)}$ for the private key and $K_{PU(s)}$ for the public key. Attribute "works at TU Berlin" gets bound to the Key $K_{PK_PR(tu)}$ and $K_{PU(tu)}$ respectivly. Now, we setup our very own first ABE scheme. The AA can pin the public keys of each attributes to its public billboard so that every entity in the system can encrypt for thouse attributes. Each user who is currently a student receives a copy of the private key $K_{PR(s)}$ and each user who is currently working at TU Berlin receives a copy of $K_{PR(tu)}$. 

A user, lets call her for historical reason Alice, wants to share content with all students that are also working at TU berlin. She encrypts the plaintext $p$ with both public attribute keys $c = K_{PU(s)}(K_{PU(TU)}(P))$ and publishes the ciphertext $c$ to a public CSP so that everyone can download it. Students that are working at TU Berlin owning both private keys can decipher the ciphertext by applying both private keys in reverse order $K_{PR(TU)(K_{PR{s}}(c)}$.

The attentive reader will have notice a cural security leak in this scheme. This ABE scheme is not cullusion restiant. In fact, collusion restistance is a core requirement of any attribute-based encryption schemem. On paper it is defined as the impossibility of any two attribute holder to combine their attributes to archive a higher level of encryption. Lets assume that Bob is a student and Eve is working at TU Berlin. Both users received their private key. Now they can simply exchange their attribute keys so that they are both able to decipher the ciphertext even if they severativly don't own both attributes.  

Usally collusion restance is ensured by issuing each user a private key that is blinded by a random value. This random value will vanish on decryption. However, if two users collude they will mix their blinded values resulting a plaintext that is still by some unknown value. 

\subsection{Biliniar Mappings}
\todo{Define Biliniar mappings, how they work etc.}

\subsection{History of Attriubte-Based encrypttion}
\todo{already discussed in previous section?}

\subsection{KP-ABE}
In Key-Policy Attribute-Based Encryption (KP-ABE) \cite{goyal2006attribute}, is a ABE technique that assoizates chiphertexts with attributes that fullfill the policy embedded in the key addressed to a user. 

To evaluate if a policy matches given attributes an \textit{Access Tree} or \textit{Linear Secrect Sharing Matrix} (LSSS) is used. While both representations represent the same boolean formular a LSSS is often more efficient. For a better explanation the model of an access tree will be used. For each node of this tree it is evaluated whether the children satisfy a certain condition. This might be implemented as \textit{OR} or \textit{AND} treshhold gates. While \textit{OR} can be expressed as $1$-out-of-$n$ children need to satisfy the condition, \textit{AND} conditions are $n$-out-of-$n$ threshhold gates meaning all children need to satisfy the condition. This approach is a monotonic access strcture and often refered as \textit{Threshhold Security} or \textit{Treshhold Access Strcutre}. 

The initial paper did leck some basic requirements that was improved by other work. Such as a fix-length cipher text, attribute revocation. Further, the authors stated that users, onces issued a policy, are able to delegate a subset of their access tree to other users. Users themself could act as a new attriubte authority to issue other uses a subset of thier access policy. While this is a nice feature for some use cases, in a cloud system the company would like to restrict this delegation or would like to be able to track traidors selling their private keys as a blackbox decryption.

This encryption scheme was ment as a broadcasting encryption scheme. Used by radio providers so that they can address any user that bought a paid membership to distribute premium content. However, since the policy was bound to the users key it is not possbile to address a ciphertext to a specific user group without knowing who exaclty persesses the right policy. Only the central authority, which issued the users privayt keys in the first place, would know who could decipher the encrypted text. This fact renders KP-ABE impractical for tha application in a cloud sharing scheme. User would simply don't know who are able to decrypter the cipher text. 

The certainly very specific use case of KP-ABE probably led to the circumstances that not much paper using this technique exists. Even so that we could not find any paper satisfying all requirements previously specified. We found only paper that implemented direct and indirect recovation mechanism \cite{shi2015directly}. 

\subsection{CP-ABE}
On the other side there is Cipher-text policy Attribute-Based Encryption (CP-ABE) \cite{bethencourt2007ciphertext}. CP-ABE assigns ciphertexts with a policy and user keys with attributes. This enables CP-ABE to be much more flexible and verbose in comparison to KP-ABE. The big adventages was (similar to KP-ABE) that the need for a central authentication server was obsulte. Each ciphertext could simple accessed by each user and only thouse who have the right attribute set present are able to decipher the ciphertext. 

The lack of revocation \req{C8} and the need for a large attribute and user universe was huge \req{C5}. Revocation means that a system manager could revoke attributes from users or even the user as such. In modern company settings an required feature to ensure forward secrecy. Large attribute universe on the other hand describes that the attributes that can be distributed by the AA are somewhat so large that it is unlikly that a running system will run out of attributes to issue. 

The first proposal of a revocation scheme in CP-ABE was in 2010 \cite{liang2010ciphertext}. This scheme used a similar approach like LKH to make the revocation process effient. In 2016 Lui \textit{et. al} \cite{liu2016practical} proposed a recovable ABE scheme that supported traidor tracing and large attribute universe. However, both scheme were restricted to a fix number of users or a limited attribute universe. Which rendered them pratical not applicable.  

\subsection{Non-monotonic access strcutre of ABE}
While monotonic access structures can describe \textit{AND} or \textit{OR} gates, non-monotonic access structure can also refere to \textit{NOT} gates. This adds another layer of find-ganylarity into the system. While in monotonic access strctures user get an attribute assigned they have access to all topics addressed to this attribute. In non-monotonic strctures, first intoduced by Ostrovsky \textit{et. al.} \cite{Ostrovsky:2007:AEN:1315245.1315270}, certain topics may be excluded. 

Take for example Alice who wants is an intern in the Top Secret company. In monotinic access strcutre she would receive both attribute private keys from "Intern" and "working in Top Secret Company". Since than she would be able to decipher all content addressed to all employees at the Super Secret company. However, some content might be so confidential that interns shell not be able to access them. This exclusion would not be possible. With non-monotonic access structure an administrator may want to encrypt certain information with the policy "working in Top secret Company AND NOT intern".  

\subsection{Hirachical ABE}
Hirachical Attribute-Based encryption (HABE) takes the key delegation to the next level. It is sourly designed arround the idea that if a private key exist that have a certain access power, it is possible for the key holder to deletate a subset of this access power to new users. By nature follows a hirachical structure where each user could administrate a own subdomain. Here many use cases for cloud computing as well as cloud storage system emerged. \cite{Wang:2010:HAE:1866307.1866414}. While some works also take revocation into design a cural requirement is still missing. 

A hirachical strcture and a delegation of decryption power would imply that the root node has global decryption power which is not desired \req{C4}. We want to design a system in which each domain is seperated is term of key generation from each other. That means that there is no top level domain which has global decryption power, rather we want to have a system where each subdomain creates its down keys and administrataes thier own attributes but that is still a part of a bigger system so able to interact with other domains.  
\todo{Reformulate}

\subsection{Comparison}
\begin{figure*}[!ht]
\centering
    \includegraphics[width=1\linewidth]{img/basic_abe_comparisons.png}
    \caption{Performance and scalability comparison between the chosen schemes.}
    \label{fig:basic_abe_comparison}
\end{figure*}